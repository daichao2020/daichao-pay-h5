(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c86c6b30"],{"08fc":function(t,e,i){},"7e77":function(t,e,i){"use strict";var o=i("08fc"),n=i.n(o);n.a},f3b7:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login-page default-page"},[t.isShowHeader?i("header",[i("van-nav-bar",{attrs:{title:"",fixed:"",placeholder:""}})],1):t._e(),i("section",{staticClass:"login-page-body"},[i("h2",{staticClass:"vip-doc-block__title"},[t._v(t._s(t.$t("str.codeTips1")))]),i("h2",{staticClass:"vip-doc-block__desc"},[t._v(t._s(t.$t("str.codeTips2"))+" "+t._s(t.telephone))]),i("div",{ref:"code_form"},[i("van-password-input",{attrs:{length:t.CODE_LENGTH,value:t.code,mask:!1,focused:t.showKeyboard},on:{focus:function(e){t.showKeyboard=!0}}}),i("div",{staticClass:"text-center sms-count-down"},[t.isGetting?[t._v(" "+t._s(t.$t("btn.smsCountDown",[t.count]))+" ")]:[i("van-button",{staticClass:"vip-btn",attrs:{size:"small",type:"default"},on:{click:t.getCode}},[t._v(t._s(t.$t("str.loginBtn2")))])]],2),i("van-number-keyboard",{attrs:{show:t.showKeyboard},on:{input:t.onInput,delete:t.onDelete,blur:function(e){t.showKeyboard=!1}}})],1)])])},n=[],s=(i("fb6a"),i("b0c0"),i("ac1f"),i("5319"),i("c24f")),c=(i("83d6"),{data:function(){return{showPicker:!1,telephone:this.$route.params.telephone,countryCode:this.$route.params.countryCode,code:"",codekey:"",isGetting:!1,gettingText:"",count:60,COUNT_DEFAULT:60,CODE_LENGTH:4,showKeyboard:!0,isSubmitting:!1}},created:function(){this.getCode()},computed:{isShowHeader:function(){var t=this.$route,e=t.meta;return e.showHeader}},methods:{getCode:function(){var t=this;if(!this.telephone)return this.$toast(this.$t("str.telephonePlaceholder")),!1;if(this.isGetting)return!1;this.isGetting=!0;var e=function e(){t.count--,t.count>0?setTimeout(e,1e3):(t.isGetting=!1,t.count=t.COUNT_DEFAULT)};e(),this.code="",this.codekey="",Object(s["c"])({intl_code:this.countryCode,phone_number:this.telephone}).then((function(e){t.codekey=e.data.key})).catch((function(e){t.isGetting=!1,t.count=t.COUNT_DEFAULT}))},onInput:function(t){this.code=(this.code+t).slice(0,this.CODE_LENGTH),this.code.length===this.CODE_LENGTH&&this.onSubmit()},onDelete:function(){this.code=this.code.slice(0,this.code.length-1)},onSubmit:function(){var t=this;if(!this.code)return this.$toast(this.$t("str.codeTips3")),!1;var e=this.$toast.loading({duration:1e4,message:this.$t("str.loading")+"...",forbidClick:!0});this.isSubmitting=!0,this.$store.dispatch("user/login",{verification_key:this.codekey,verification_code:this.code,device_number:this.$store.getters.deviceNumber,platform:this.$store.getters.platform,app_version_id:this.$store.getters.appVersionId}).then((function(i){var o=i.data;e.clear(),t.isSubmitting=!1,o&&t.toNextPage()})).catch((function(){setTimeout((function(){e.clear()}),3e3),t.isSubmitting=!1}))},toNextPage:function(){var t=this;this.$store.dispatch("user/getInfo").then((function(e){var i=e.name,o=e.is_member;i?o?t.toEndPage():t.toVipPage():t.toInfoPage()}))},toEndPage:function(){this.$router.push({name:"end"})},toInfoPage:function(){this.$router.push({name:"info"})},toVipPage:function(){this.$router.replace({name:"vip"})}}}),r=c,a=(i("7e77"),i("2877")),u=Object(a["a"])(r,o,n,!1,null,null,null);e["default"]=u.exports},fb6a:function(t,e,i){"use strict";var o=i("23e7"),n=i("861d"),s=i("e8b5"),c=i("23cb"),r=i("50c4"),a=i("fc6a"),u=i("8418"),d=i("b622"),h=i("1dde"),l=i("ae40"),f=h("slice"),p=l("slice",{ACCESSORS:!0,0:0,1:2}),g=d("species"),v=[].slice,b=Math.max;o({target:"Array",proto:!0,forced:!f||!p},{slice:function(t,e){var i,o,d,h=a(this),l=r(h.length),f=c(t,l),p=c(void 0===e?l:e,l);if(s(h)&&(i=h.constructor,"function"!=typeof i||i!==Array&&!s(i.prototype)?n(i)&&(i=i[g],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return v.call(h,f,p);for(o=new(void 0===i?Array:i)(b(p-f,0)),d=0;f<p;f++,d++)f in h&&u(o,d,h[f]);return o.length=d,o}})}}]);
//# sourceMappingURL=chunk-c86c6b30.de355e66.js.map
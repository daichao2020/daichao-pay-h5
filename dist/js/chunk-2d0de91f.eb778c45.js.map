{"version":3,"sources":["webpack:///./src/components/Login/resetPassword.vue?e9cf","webpack:///src/components/Login/resetPassword.vue","webpack:///./src/components/Login/resetPassword.vue?cc11","webpack:///./src/components/Login/resetPassword.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","onClickLeft","_e","_v","ref","countryCodeText","$event","showPicker","model","value","callback","$$v","telephone","expression","password","scopedSlots","_u","key","fn","isGetting","getCode","_s","$t","count","proxy","code","isSubmitting","onSubmitNewPassword","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d0de91f.eb778c45.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-page default-page\"},[(_vm.isShowHeader)?_c('header',[_c('van-nav-bar',{attrs:{\"title\":\"Reset Password\",\"fixed\":\"\",\"placeholder\":\"\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}})],1):_vm._e(),_c('section',{staticClass:\"login-page-body\"},[_c('h2',{staticClass:\"vip-doc-block__title\"},[_vm._v(\"Reset Password\")]),_c('div',{ref:\"login_form\"},[_c('van-field',{attrs:{\"readonly\":\"\",\"name\":\"picker\",\"value\":_vm.countryCodeText,\"label\":\"Country देश\",\"placeholder\":\"Please select country code\"},on:{\"click\":function($event){_vm.showPicker = true}}}),_c('van-field',{attrs:{\"name\":\"telephone\",\"type\":\"tel\",\"label\":\"Telephone टेलीफोन\",\"placeholder\":\"Please enter telephone\"},model:{value:(_vm.telephone),callback:function ($$v) {_vm.telephone=$$v},expression:\"telephone\"}}),_c('van-field',{attrs:{\"name\":\"password\",\"type\":\"text\",\"label\":\"New Password कुंजिका\",\"placeholder\":\"Please enter new password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('van-field',{attrs:{\"center\":\"\",\"clearable\":\"\",\"type\":\"digit\",\"label\":\"Code कोड\",\"placeholder\":\"Please enter code\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('van-button',{staticClass:\"vip-btn\",attrs:{\"size\":\"small\",\"type\":\"default\",\"disabled\":_vm.isGetting},on:{\"click\":_vm.getCode}},[_vm._v(_vm._s(_vm.isGetting?_vm.$t('btn.smsCountDown',[_vm.count]):'Get Code'))])]},proxy:true}]),model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}}),_c('div',{staticClass:\"vip-btn-wrap\"},[_c('van-button',{staticClass:\"vip-btn\",attrs:{\"type\":\"primary\",\"disabled\":_vm.isSubmitting,\"loading\":_vm.isSubmitting,\"loading-text\":\"Submitting...\",\"block\":\"\"},on:{\"click\":_vm.onSubmitNewPassword}},[_vm._v(\"Reset Password ( पासवर्ड रीसेट )\")])],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"login-page default-page\">\r\n\t\t<header v-if=\"isShowHeader\">\r\n\t\t\t<van-nav-bar\r\n\t\t\t\t\ttitle=\"Reset Password\"\r\n\t\t\t\t\tfixed\r\n\t\t\t\t\tplaceholder\r\n\t\t\t\t\tleft-arrow\r\n\t\t\t\t\t@click-left=\"onClickLeft\"\r\n\t\t\t></van-nav-bar>\r\n\t\t</header>\r\n\t\t<section class=\"login-page-body\">\r\n\t\t\t<h2 class=\"vip-doc-block__title\">Reset Password</h2>\r\n\t\t\t<div ref=\"login_form\">\r\n\t\t\t\t<van-field\r\n\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\tname=\"picker\"\r\n\t\t\t\t\t\t:value=\"countryCodeText\"\r\n\t\t\t\t\t\tlabel=\"Country देश\"\r\n\t\t\t\t\t\tplaceholder=\"Please select country code\"\r\n\t\t\t\t\t\t@click=\"showPicker = true\"\r\n\t\t\t\t/>\r\n\t\t\t\t<!--<van-popup v-model=\"showPicker\" position=\"bottom\">\r\n\t\t\t\t\t<van-picker\r\n\t\t\t\t\t\t\tshow-toolbar\r\n\t\t\t\t\t\t\t:columns=\"columns\"\r\n\t\t\t\t\t\t\t@confirm=\"onConfirm\"\r\n\t\t\t\t\t\t\t@cancel=\"showPicker = false\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</van-popup>-->\r\n\t\t\t\t<van-field\r\n\t\t\t\t\t\tv-model=\"telephone\"\r\n\t\t\t\t\t\tname=\"telephone\"\r\n\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\tlabel=\"Telephone टेलीफोन\"\r\n\t\t\t\t\t\tplaceholder=\"Please enter telephone\"\r\n\t\t\t\t/>\r\n\t\t\t\t<van-field\r\n\t\t\t\t\t\tv-model=\"password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tlabel=\"New Password कुंजिका\"\r\n\t\t\t\t\t\tplaceholder=\"Please enter new password\"\r\n\t\t\t\t/>\r\n\t\t\t\t<van-field\r\n\t\t\t\t\t\tv-model=\"code\"\r\n\t\t\t\t\t\tcenter\r\n\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\ttype=\"digit\"\r\n\t\t\t\t\t\tlabel=\"Code कोड\"\r\n\t\t\t\t\t\tplaceholder=\"Please enter code\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<template #button>\r\n\t\t\t\t\t\t<van-button size=\"small\" type=\"default\" class=\"vip-btn\"\r\n\t\t\t\t\t\t\t\t\t:disabled=\"isGetting\"\r\n\t\t\t\t\t\t\t\t\t@click=\"getCode\">{{isGetting?$t('btn.smsCountDown',[count]):'Get Code'}}</van-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</van-field>\r\n\t\t\t\t<div class=\"vip-btn-wrap\">\r\n\t\t\t\t\t<van-button type=\"primary\" class=\"vip-btn\"\r\n\t\t\t\t\t\t\t\t:disabled=\"isSubmitting\"\r\n\t\t\t\t\t\t\t\t:loading=\"isSubmitting\"\r\n\t\t\t\t\t\t\t\tloading-text=\"Submitting...\"\r\n\t\t\t\t\t\t\t\t@click=\"onSubmitNewPassword\"\r\n\t\t\t\t\t\t\t\tblock>Reset Password ( पासवर्ड रीसेट )</van-button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport { getCountryCodes,getVerificationCodes,sendCode,updatePwd } from '@/api/user'\r\n\timport defaultSettings from '@/settings'\r\n\texport default {\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tcountryCodeText: 'India 0091',\r\n\t\t\t\tcountryCode: '0091',\r\n\r\n\t\t\t\tcolumns: [],\r\n\t\t\t\tshowPicker: false,\r\n\r\n\t\t\t\ttelephone: '',//9829666666\r\n\t\t\t\tpassword: '',\r\n\t\t\t\tcode: '',\r\n\t\t\t\tcodekey: '',\r\n\t\t\t\tisGetting: false,\r\n\t\t\t\tgettingText: '',\r\n\t\t\t\tcount: 60,\r\n\t\t\t\tCOUNT_DEFAULT: 60,\r\n\t\t\t\tisSubmitting: false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\t/*getCountryCodes().then((res)=>{\r\n\t\t\t\tconst list = res.data || [];\r\n\t\t\t\tlist.sort((item1,item2)=>{\r\n\t\t\t\t\tif(item1.is_hot < item2.is_hot){\r\n\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t}else if(item1.is_hot > item2.is_hot){\r\n\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tlist.forEach((item)=>{\r\n\t\t\t\t\titem.text = item.name +' '+ item.intl_code;\r\n\t\t\t\t});\r\n\t\t\t\tthis.columns = list;\r\n\t\t\t});*/\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tisShowHeader() {\r\n\t\t\t\tconst route = this.$route\r\n\t\t\t\tconst { meta } = route\r\n\t\t\t\treturn meta.showHeader\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonConfirm(value) {\r\n\r\n\t\t\t\tthis.countryCode = value.intl_code;\r\n\t\t\t\tthis.countryCodeText = value.text;\r\n\r\n\t\t\t\tthis.showPicker = false;\r\n\t\t\t},\r\n\t\t\tgetCode(){\r\n\t\t\t\tif(!this.telephone){\r\n\t\t\t\t\tthis.$toast('Please enter telephone');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.isGetting){\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.isGetting = true;\r\n\r\n\t\t\t\tconst countDownFn = ()=>{\r\n\t\t\t\t\tthis.count--;\r\n\t\t\t\t\tif(this.count>0){\r\n\t\t\t\t\t\tsetTimeout(countDownFn,1000);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.isGetting = false;\r\n\t\t\t\t\t\tthis.count = this.COUNT_DEFAULT;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcountDownFn();\r\n\r\n\t\t\t\tsendCode({\r\n\t\t\t\t\tintl_code: this.countryCode,\r\n\t\t\t\t\tphone_number: this.telephone,\r\n\t\t\t\t\tapp_version_id: this.$store.getters.appVersionId,\r\n\t\t\t\t}).then((res)=>{\r\n\t\t\t\t\tthis.codekey = res.data.key;\r\n\t\t\t\t\t//this.isGetting = false;\r\n\t\t\t\t\t//this.count = this.COUNT_DEFAULT;\r\n\t\t\t\t}).catch((e)=>{\r\n\t\t\t\t\tthis.isGetting = false;\r\n\t\t\t\t\tthis.count = this.COUNT_DEFAULT;\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 提交密码修改\r\n\t\t\t * */\r\n\t\t\tonSubmitNewPassword(){\r\n\t\t\t\tif(!this.telephone){\r\n\t\t\t\t\tthis.$toast('Please enter telephone');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(!this.password){\r\n\t\t\t\t\tthis.$toast('Please enter new password');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(!this.code){\r\n\t\t\t\t\tthis.$toast('Please enter code');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//更新密码\r\n\t\t\t\tthis.isSubmitting = true;\r\n\t\t\t\tupdatePwd({\r\n\t\t\t\t\tverification_key: this.codekey,\r\n\t\t\t\t\tverification_code: this.code,\r\n\r\n\t\t\t\t\tdevice_number: this.$store.getters.deviceNumber,\r\n\t\t\t\t\tplatform: this.$store.getters.platform,\r\n\t\t\t\t\tapp_version_id: this.$store.getters.appVersionId,\r\n\t\t\t\t\tphone_number: this.telephone,\r\n\t\t\t\t\tpassword: this.password,\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tthis.isSubmitting = false;\r\n\t\t\t\t\t\tthis.$toast('Password update successful, and automatic login in progress');\r\n\t\t\t\t\t\tthis.autoLogin();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\tthis.isSubmitting = false\r\n\t\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 修改密码后自动登录\r\n\t\t\t * */\r\n\t\t\tautoLogin(){\r\n\r\n\t\t\t\tvar toast = this.$toast.loading({duration: 0, message: 'Loading...', forbidClick: true,});\r\n\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tdevice_number: this.$store.getters.deviceNumber,\r\n\t\t\t\t\tplatform: this.$store.getters.platform,\r\n\t\t\t\t\tapp_version_id: this.$store.getters.appVersionId,\r\n\r\n\t\t\t\t\tphone_number: this.telephone,\r\n\t\t\t\t\tpassword: this.password,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$store.dispatch('user/login', params)\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\ttoast.clear();\r\n\t\t\t\t\t\tthis.toHomePage();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\ttoast.clear();\r\n\t\t\t\t\t})\r\n\r\n\t\t\t},\r\n\r\n\t\t\ttoHomePage(){\r\n\t\t\t\tthis.$router.push({name:'home'});\r\n\t\t\t},\r\n\t\t\tonClickLeft() {\r\n\t\t\t\tthis.$router.go(-1);\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resetPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resetPassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./resetPassword.vue?vue&type=template&id=4d2f6b9c&\"\nimport script from \"./resetPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./resetPassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
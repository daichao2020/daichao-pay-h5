(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0de91f"],{"85e1":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-page default-page"},[e.isShowHeader?o("header",[o("van-nav-bar",{attrs:{title:"Reset Password",fixed:"",placeholder:"","left-arrow":""},on:{"click-left":e.onClickLeft}})],1):e._e(),o("section",{staticClass:"login-page-body"},[o("h2",{staticClass:"vip-doc-block__title"},[e._v("Reset Password")]),o("div",{ref:"login_form"},[o("van-field",{attrs:{name:"telephone",type:"tel",label:"Telephone टेलीफोन",placeholder:"Please enter telephone"},model:{value:e.telephone,callback:function(t){e.telephone=t},expression:"telephone"}}),o("van-field",{attrs:{name:"password",type:"text",label:"New Password कुंजिका",placeholder:"Please enter new password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),o("van-field",{attrs:{center:"",clearable:"",type:"digit",label:"Code कोड",placeholder:"Please enter code"},scopedSlots:e._u([{key:"button",fn:function(){return[o("van-button",{staticClass:"vip-btn",attrs:{size:"small",type:"default",disabled:e.isGetting},on:{click:e.getCode}},[e._v(e._s(e.isGetting?e.$t("btn.smsCountDown",[e.count]):"Get Code"))])]},proxy:!0}]),model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),o("div",{staticClass:"vip-btn-wrap"},[o("van-button",{staticClass:"vip-btn",attrs:{type:"primary",disabled:e.isSubmitting,loading:e.isSubmitting,"loading-text":"Submitting...",block:""},on:{click:e.onSubmitNewPassword}},[e._v("Reset Password ( पासवर्ड रीसेट )")])],1)],1)])])},i=[],n=o("c24f"),a=(o("83d6"),{data:function(){return{countryCodeText:"India 0091",countryCode:"0091",columns:[],showPicker:!1,telephone:"",password:"",code:"",codekey:"",isGetting:!1,gettingText:"",count:60,COUNT_DEFAULT:60,isSubmitting:!1}},created:function(){},computed:{isShowHeader:function(){var e=this.$route,t=e.meta;return t.showHeader}},methods:{onConfirm:function(e){this.countryCode=e.intl_code,this.countryCodeText=e.text,this.showPicker=!1},getCode:function(){var e=this;if(!this.telephone)return this.$toast("Please enter telephone"),!1;if(this.isGetting)return!1;this.isGetting=!0;var t=function t(){e.count--,e.count>0?setTimeout(t,1e3):(e.isGetting=!1,e.count=e.COUNT_DEFAULT)};t(),Object(n["h"])({intl_code:this.countryCode,phone_number:this.telephone,app_version_id:this.$store.getters.appVersionId}).then((function(t){e.codekey=t.data.key})).catch((function(t){e.isGetting=!1,e.count=e.COUNT_DEFAULT}))},onSubmitNewPassword:function(){var e=this;return this.telephone?this.password?this.code?(this.isSubmitting=!0,void Object(n["j"])({verification_key:this.codekey,verification_code:this.code,device_number:this.$store.getters.deviceNumber,platform:this.$store.getters.platform,app_version_id:this.$store.getters.appVersionId,phone_number:this.telephone,password:this.password}).then((function(){e.isSubmitting=!1,e.$toast("Password update successful, and automatic login in progress"),e.autoLogin()})).catch((function(){e.isSubmitting=!1}))):(this.$toast("Please enter code"),!1):(this.$toast("Please enter new password"),!1):(this.$toast("Please enter telephone"),!1)},autoLogin:function(){var e=this,t=this.$toast.loading({duration:0,message:"Loading...",forbidClick:!0}),o={device_number:this.$store.getters.deviceNumber,platform:this.$store.getters.platform,app_version_id:this.$store.getters.appVersionId,phone_number:this.telephone,password:this.password};this.$store.dispatch("user/login",o).then((function(){t.clear(),e.toHomePage()})).catch((function(){t.clear()}))},toHomePage:function(){this.$router.push({name:"home"})},onClickLeft:function(){this.$router.go(-1)}}}),r=a,c=o("2877"),l=Object(c["a"])(r,s,i,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0de91f.18e10ac5.js.map
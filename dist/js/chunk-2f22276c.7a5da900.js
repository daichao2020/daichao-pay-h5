(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f22276c"],{"0397":function(t,i,e){"use strict";var n=e("919f"),s=e.n(n);s.a},"129f":function(t,i){t.exports=Object.is||function(t,i){return t===i?0!==t||1/t===1/i:t!=t&&i!=i}},"65b9":function(t,i,e){},"841c":function(t,i,e){"use strict";var n=e("d784"),s=e("825a"),r=e("1d80"),a=e("129f"),o=e("14c3");n("search",1,(function(t,i,e){return[function(i){var e=r(this),n=void 0==i?void 0:i[t];return void 0!==n?n.call(i,e):new RegExp(i)[t](String(e))},function(t){var n=e(i,t,this);if(n.done)return n.value;var r=s(t),c=String(this),d=r.lastIndex;a(d,0)||(r.lastIndex=0);var u=o(r,c);return a(r.lastIndex,d)||(r.lastIndex=d),null===u?-1:u.index}]}))},"919f":function(t,i,e){},d251:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"vip-page page"},[t.isShowHeader?e("header",[e("van-nav-bar",{attrs:{title:"",fixed:"",placeholder:""}})],1):t._e(),e("section",{staticClass:"home-page-bdoy"},[e("productSwiper")],1)])},s=[],r=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"card"},[e("div",{staticClass:"card-bd"},[e("div",{staticClass:"product-info"},[e("div",{staticClass:"info-row bottom-line"},[e("p",{staticClass:"info-title"},[t._v(t._s(t.$t("str.loanAmount"))+"("+t._s(t.$t("str.unit"))+")")]),e("div",{staticClass:"info-list"},t._l(t.cardList,(function(i){return e("div",{key:i.id,staticClass:"info-item",class:t.card.id==i.id?"active":"",on:{click:function(e){return t.setLoanItem(i)}}},[e("span",[t._v(t._s(i.description))])])})),0)]),e("div",{staticClass:"info-row bottom-line"},[e("p",{staticClass:"info-title"},[t._v(t._s(t.$t("str.term"))+" ("+t._s(t.$t("str.day"))+")")]),e("div",{staticClass:"info-list"},t._l(t.periodList,(function(i){return e("div",{key:i.value,staticClass:"info-item",class:t.period==i.value?"active":"",on:{click:function(e){return t.setPeriod(i)}}},[e("span",[t._v(t._s(i.value))])])})),0)]),e("div",{staticClass:"desc-row small flex bottom-line"},[e("div",{staticClass:"flex-1 text-left"},[t._v(t._s(t.$t("str.interest")))]),e("div",{staticClass:"bold"},[t._v(t._s(t.$t("str.unit"))+t._s(t.interest))])]),e("div",{staticClass:"desc-row small flex bottom-line"},[e("div",{staticClass:"flex-1 text-left"},[t._v(" "+t._s(t.$t("str.repaymentAmount"))+"("),e("span",{staticClass:"small red"},[t._v("-"+t._s(t.$t("str.unit"))+t._s(t.auditFee))]),t._v(") ")]),e("div",{staticClass:"bold"},[t._v(t._s(t.$t("str.unit"))+t._s(t.repayment))])]),e("div",{staticClass:"desc-row small flex"},[e("div",{staticClass:"flex-1 text-left"},[t._v(t._s(t.$t("str.loanTerm")))]),e("div",{staticClass:"bold"},[t._v(t._s(t.period)+" "+t._s(t.$t("str.days")))])])])]),e("div",{staticClass:"card-ft"},[e("div",{staticClass:"vip-btn-wrap"},[e("van-button",{staticClass:"vip-btn",attrs:{type:"primary",disabled:t.isSubmitting,loading:t.isSubmitting,"loading-text":"Submitting...",block:""},on:{click:t.onSubmitOrder}},[e("div",{staticClass:"flex count-down"},[e("van-icon",{attrs:{name:"underway-o"}}),e("van-count-down",{ref:"countDown",attrs:{millisecond:"",time:t.countDownTime,"auto-start":!1,format:"HH:mm:ss:SS"}})],1),e("p",[t._v(t._s(t.$t("str.immediateWithdrawal")))])])],1),t.userInfo.is_member?e("div",{staticClass:"vip-btn-wrap",staticStyle:{"margin-top":"15px"}},[e("van-button",{attrs:{type:"default",block:""},on:{click:function(i){return t.toHomePage()}}},[t._v(" "+t._s(t.$t("str.chooseOtherLoanProduct"))+" ")])],1):t._e(),e("div",{staticClass:"warn-tips"},[e("div",{staticClass:"tips-hd"},[e("span",{staticClass:"title"},[t._v(t._s(t.$t("str.warning"))+": ")]),e("van-icon",{attrs:{name:"warning-o"}})],1),e("div",{staticClass:"tips-bd"},[e("div",{staticClass:"tip-item bottom-line"},[e("p",[t._v("① "+t._s(t.$t("str.warningTips1"))+" "+t._s(t.$t("str.unit"))+t._s(t.auditFee))])]),e("div",{staticClass:"tip-item bottom-line"},[e("p",[t._v("② "+t._s(t.$t("str.warningTips2")))])]),e("div",{staticClass:"tip-item bottom-line"},[e("p",[t._v("③ "+t._s(t.$t("str.warningTips3")))]),e("p",{staticClass:"tip-desc"},[t._v("• "+t._s(t.$t("str.warningTips4")))]),e("p",{staticClass:"tip-desc"},[t._v("• "+t._s(t.$t("str.warningTips5")))]),e("p",{staticClass:"tip-desc"},[t._v("• "+t._s(t.$t("str.warningTips6")))])])])])])])])},a=[],o=(e("a4d3"),e("e01a"),e("fb6a"),e("ac1f"),e("5319"),e("841c"),e("f8b7")),c={data:function(){return{cardList:[],card:null,periodList:[{value:7},{value:14},{value:30},{value:60},{value:90},{value:180}],period:7,sold_count:0,countDownTime:54e5,isSubmitting:!1}},computed:{appVersionId:function(){return this.$store.getters.appVersionId},userInfo:function(){return this.$store.getters.info},interest:function(){var t=0;if(this.card){var i=+this.card.description,e=this.period;t=i*e/1e3}return t},auditFee:function(){var t=0;return this.card&&(t=+this.card.price),t},repayment:function(){var t=0;if(this.card){var i=+this.card.description;t=i-+this.card.price}return t}},mounted:function(){this.userInfo.is_member?this.toEndPage():this.getMemberCardList()},methods:{getMemberCardList:function(){var t=this;Object(o["a"])().then((function(i){t.cardList=i.data||[],t.card=t.cardList[0]}))},setLoanItem:function(t){this.card=t,this.setCountdown()},setPeriod:function(t){this.period=t.value},setCountdown:function(){var t=this;this.$refs.countDown.reset(),setTimeout((function(){t.$refs.countDown.start()}),100)},onSubmitOrder:function(){var t=this.card;if(!t)return!1;this.$store.dispatch("product/setProductInfo",t),this.submitOrder(t)},submitOrder:function(t){var i=this,e=location.href.slice(0,location.href.search("#"))+"#/step03",n={return_url:e,member_card_id:t.id};if(this.isSubmitting)return!1;this.isSubmitting=!0;var s=window.open();Object(o["f"])(n).then((function(t){var e=t.data;if(i.isSubmitting=!1,e){i.$store.dispatch("product/setOrderInfo",e);var n=i.judgeClient();if("iOS"==n){var r=document.createElement("div");r.id="alipay",r.innerHTML=e.payment_link,document.body.appendChild(r),document.querySelector("#alipay").children[0].submit()}else{var a=document.createElement("div");a.innerHTML=e.payment_link,s.document.body.appendChild(a),s.document.forms.alipay_submit.submit()}}})).catch((function(){i.isSubmitting=!1}))},toStep03Page:function(){this.$router.push({name:"step03"})},toHomePage:function(){this.$router.push({name:"home"})},toInfoPage:function(){this.$router.push({name:"info"})},toEndPage:function(){this.$router.replace({name:"end"})},judgeClient:function(){var t="";return t=/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?"iOS":/(Android)/i.test(navigator.userAgent)?"Android":"PC",t}}},d=c,u=(e("d4a3"),e("2877")),l=Object(u["a"])(d,r,a,!1,null,"51174372",null),f=l.exports,v={components:{productSwiper:f},data:function(){return{}},mounted:function(){this.$store.dispatch("user/getInfo")},computed:{isShowHeader:function(){var t=this.$route,i=t.meta;return i.showHeader}},methods:{onClickLeft:function(){this.$router.go(-1)}}},p=v,m=(e("0397"),Object(u["a"])(p,n,s,!1,null,null,null));i["default"]=m.exports},d4a3:function(t,i,e){"use strict";var n=e("65b9"),s=e.n(n);s.a},e01a:function(t,i,e){"use strict";var n=e("23e7"),s=e("83ab"),r=e("da84"),a=e("5135"),o=e("861d"),c=e("9bf2").f,d=e("e893"),u=r.Symbol;if(s&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var l={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),i=this instanceof f?new u(t):void 0===t?u():u(t);return""===t&&(l[i]=!0),i};d(f,u);var v=f.prototype=u.prototype;v.constructor=f;var p=v.toString,m="Symbol(test)"==String(u("test")),h=/^Symbol\((.*)\)[^)]+$/;c(v,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,i=p.call(t);if(a(l,t))return"";var e=m?i.slice(7,-1):i.replace(h,"$1");return""===e?void 0:e}}),n({global:!0,forced:!0},{Symbol:f})}},f8b7:function(t,i,e){"use strict";e.d(i,"a",(function(){return s})),e.d(i,"b",(function(){return r})),e.d(i,"e",(function(){return a})),e.d(i,"f",(function(){return o})),e.d(i,"c",(function(){return c})),e.d(i,"d",(function(){return d}));var n=e("b775");function s(){return Object(n["a"])({url:"/member/cards",method:"get"})}function r(){return Object(n["a"])({url:"/payment/channels",method:"get"})}function a(t){return Object(n["a"])({url:"/member/orders",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/member/orders/alipay",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/orders/".concat(t.order_id,"/mpurse"),method:"post",data:t})}function d(t){return Object(n["a"])({url:"/payment/alipay/return",method:"get",params:{order_id:t}})}},fb6a:function(t,i,e){"use strict";var n=e("23e7"),s=e("861d"),r=e("e8b5"),a=e("23cb"),o=e("50c4"),c=e("fc6a"),d=e("8418"),u=e("b622"),l=e("1dde"),f=e("ae40"),v=l("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),m=u("species"),h=[].slice,b=Math.max;n({target:"Array",proto:!0,forced:!v||!p},{slice:function(t,i){var e,n,u,l=c(this),f=o(l.length),v=a(t,f),p=a(void 0===i?f:i,f);if(r(l)&&(e=l.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)?s(e)&&(e=e[m],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return h.call(l,v,p);for(n=new(void 0===e?Array:e)(b(p-v,0)),u=0;v<p;v++,u++)v in l&&d(n,u,l[v]);return n.length=u,n}})}}]);
//# sourceMappingURL=chunk-2f22276c.7a5da900.js.map
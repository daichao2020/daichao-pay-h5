(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21e536"],{d4a1:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-page default-page"},[e.isShowHeader?n("header",[n("van-nav-bar",{attrs:{title:"Sign in",fixed:"",placeholder:""}})],1):e._e(),n("section",{staticClass:"login-page-body"},[n("div",{ref:"login_form"},[n("van-field",{attrs:{readonly:"",clickable:"",name:"picker",value:e.countryCodeText,label:"Country(देश)",placeholder:"Please select country code","right-icon":"arrow"},on:{click:function(t){e.showPicker=!0}}}),n("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[n("van-picker",{attrs:{"show-toolbar":"",columns:e.columns},on:{confirm:e.onConfirm,cancel:function(t){e.showPicker=!1}}})],1),n("van-field",{attrs:{name:"telephone",type:"tel",label:"Telephone(टेलीफोन)",placeholder:"Please enter telephone"},model:{value:e.telephone,callback:function(t){e.telephone=t},expression:"telephone"}}),n("van-field",{attrs:{center:"",clearable:"",type:"digit",label:"Code(कोड)",placeholder:"Please enter code"},scopedSlots:e._u([{key:"button",fn:function(){return[n("van-button",{staticClass:"vip-btn",attrs:{size:"small",type:"default",disabled:e.isGetting},on:{click:e.getCode}},[e._v(e._s(e.isGetting?e.$t("btn.smsCountDown",[e.count]):"Get Code"))])]},proxy:!0}]),model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),n("div",{staticClass:"vip-btn-wrap"},[n("van-button",{staticClass:"vip-btn",attrs:{type:"primary",disabled:e.isSubmitting,loading:e.isSubmitting,"loading-text":"Submitting...",block:""},on:{click:e.onSubmit}},[e._v("Sign in(साइन इन करें)")])],1)],1)])])},i=[],s=n("c24f"),c=(n("83d6"),{data:function(){return{countryCodeText:"India 0091",countryCode:"0091",columns:[],showPicker:!1,telephone:"",code:"",codekey:"",isGetting:!1,gettingText:"",count:60,COUNT_DEFAULT:60,isSubmitting:!1}},created:function(){var e=this;Object(s["b"])().then((function(t){var n=t.data||[];n.sort((function(e,t){return e.is_hot<t.is_hot?1:e.is_hot>t.is_hot?-1:0})),n.forEach((function(e){e.text=e.name+" "+e.intl_code})),e.columns=n}))},computed:{isShowHeader:function(){var e=this.$route,t=e.meta;return t.showHeader}},methods:{onConfirm:function(e){this.countryCode=e.intl_code,this.countryCodeText=e.text,this.showPicker=!1},getCode:function(){var e=this;if(!this.telephone)return this.$toast("Please enter telephone"),!1;if(this.isGetting)return!1;this.isGetting=!0;var t=function t(){e.count--,e.count>0?setTimeout(t,1e3):(e.isGetting=!1,e.count=e.COUNT_DEFAULT)};t(),Object(s["d"])({intl_code:this.countryCode,phone_number:this.telephone}).then((function(t){e.codekey=t.data.key})).catch((function(t){e.isGetting=!1,e.count=e.COUNT_DEFAULT}))},onSubmit:function(){var e=this;return this.telephone?this.code?(this.isSubmitting=!0,void this.$store.dispatch("user/login",{verification_key:this.codekey,verification_code:this.code,device_number:this.$store.getters.deviceNumber,platform:this.$store.getters.platform,app_version_id:this.$store.getters.appVersionId}).then((function(){e.isSubmitting=!1,e.toHomePage()})).catch((function(){e.isSubmitting=!1}))):(this.$toast("Please enter code"),!1):(this.$toast("Please enter telephone"),!1)},toHomePage:function(){this.$router.push({name:"home"})}}}),a=c,r=n("2877"),l=Object(r["a"])(a,o,i,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d21e536.a2ad64c4.js.map
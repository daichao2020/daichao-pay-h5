{"version":3,"sources":["webpack:///./src/components/Login/code.vue?02f7","webpack:///./src/components/Login/code.vue?ccf6","webpack:///src/components/Login/code.vue","webpack:///./src/components/Login/code.vue?6819","webpack:///./src/components/Login/code.vue","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$t","on","onClickLeft","_e","_v","_s","telephone","ref","CODE_LENGTH","code","showKeyboard","$event","count","getCode","onInput","onDelete","staticRenderFns","component","$","isObject","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","SPECIES","nativeSlice","slice","max","Math","target","proto","forced","start","end","Constructor","result","n","O","length","k","fin","undefined","constructor","Array","prototype","call"],"mappings":"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","file":"js/chunk-c86c6b30.efd641a8.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./code.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./code.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-page default-page\"},[(_vm.isShowHeader)?_c('header',[_c('van-nav-bar',{attrs:{\"title\":_vm.$t('str.signIn'),\"fixed\":\"\",\"left-arrow\":\"\",\"placeholder\":\"\"},on:{\"click-left\":_vm.onClickLeft}})],1):_vm._e(),_c('section',{staticClass:\"login-page-body\"},[_c('h2',{staticClass:\"vip-doc-block__title\"},[_vm._v(_vm._s(_vm.$t('str.codeTips1')))]),_c('h2',{staticClass:\"vip-doc-block__desc\"},[_vm._v(_vm._s(_vm.$t('str.codeTips2'))+\" \"+_vm._s(_vm.telephone))]),_c('div',{ref:\"code_form\"},[_c('van-password-input',{attrs:{\"length\":_vm.CODE_LENGTH,\"value\":_vm.code,\"mask\":false,\"focused\":_vm.showKeyboard},on:{\"focus\":function($event){_vm.showKeyboard = true}}}),_c('div',{staticClass:\"text-center sms-count-down\"},[(_vm.isGetting)?[_vm._v(\" \"+_vm._s(_vm.$t('btn.smsCountDown',[_vm.count]))+\" \")]:[_c('van-button',{staticClass:\"vip-btn\",attrs:{\"size\":\"small\",\"type\":\"default\"},on:{\"click\":_vm.getCode}},[_vm._v(_vm._s(_vm.$t('str.loginBtn2')))])]],2),_c('van-number-keyboard',{attrs:{\"show\":_vm.showKeyboard},on:{\"input\":_vm.onInput,\"delete\":_vm.onDelete,\"blur\":function($event){_vm.showKeyboard = false}}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"login-page default-page\">\r\n        <header v-if=\"isShowHeader\">\r\n            <van-nav-bar\r\n\t\t\t\t\t:title=\"$t('str.signIn')\"\r\n\t\t\t\t\tfixed\r\n\t\t\t\t\tleft-arrow\r\n\t\t\t\t\t@click-left=\"onClickLeft\"\r\n\t\t\t\t\tplaceholder\r\n            ></van-nav-bar>\r\n        </header>\r\n        <section class=\"login-page-body\">\r\n\t\t\t<h2 class=\"vip-doc-block__title\">{{$t('str.codeTips1')}}</h2>\r\n\t\t\t<h2 class=\"vip-doc-block__desc\">{{$t('str.codeTips2')}} {{ telephone }}</h2>\r\n            <div ref=\"code_form\">\r\n\t\t\t\t<van-password-input\r\n\t\t\t\t\t\t:length=\"CODE_LENGTH\"\r\n\t\t\t\t\t\t:value=\"code\"\r\n\t\t\t\t\t\t:mask=\"false\"\r\n\t\t\t\t\t\t:focused=\"showKeyboard\"\r\n\t\t\t\t\t\t@focus=\"showKeyboard = true\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div class=\"text-center sms-count-down\">\r\n\t\t\t\t\t<template v-if=\"isGetting\">\r\n\t\t\t\t\t\t{{$t('btn.smsCountDown',[count])}}\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t<van-button size=\"small\" type=\"default\" class=\"vip-btn\"\r\n\t\t\t\t\t\t\t\t\t@click=\"getCode\">{{$t('str.loginBtn2')}}</van-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- 数字键盘 -->\r\n\t\t\t\t<van-number-keyboard\r\n\r\n\t\t\t\t\t\t:show=\"showKeyboard\"\r\n\t\t\t\t\t\t@input=\"onInput\"\r\n\t\t\t\t\t\t@delete=\"onDelete\"\r\n\t\t\t\t\t\t@blur=\"showKeyboard = false\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t</div>\r\n        </section>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\n\timport { getCountryCodes,getVerificationCodes } from '@/api/user'\r\n\timport defaultSettings from '@/settings'\r\n    export default {\r\n\r\n        data(){\r\n            return {\r\n                showPicker: false,\r\n\r\n\t\t\t\ttelephone: this.$route.params.telephone,\r\n\t\t\t\tcountryCode: this.$route.params.countryCode,\r\n                code: '',\r\n                codekey: '',\r\n                isGetting: false,\r\n                gettingText: '',\r\n                count: 60,\r\n                COUNT_DEFAULT: 60,\r\n                CODE_LENGTH: 4,\r\n\t\t\t\tshowKeyboard: true,\r\n                isSubmitting: false,\r\n            }\r\n        },\r\n\t\tcreated(){\r\n\t\t\tthis.getCode();\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tisShowHeader() {\r\n\t\t\t\tconst route = this.$route\r\n\t\t\t\tconst { meta } = route\r\n\t\t\t\treturn meta.showHeader\r\n\t\t\t},\r\n\t\t},\r\n        methods: {\r\n            getCode(){\r\n                if(!this.telephone){\r\n                    this.$toast(this.$t('str.telephonePlaceholder'));\r\n                    return false;\r\n                }\r\n                if(this.isGetting){\r\n                \treturn false;\r\n\t\t\t\t}\r\n                this.isGetting = true;\r\n\r\n                const countDownFn = ()=>{\r\n                    this.count--;\r\n                    if(this.count>0){\r\n                        setTimeout(countDownFn,1000);\r\n                    }else{\r\n                        this.isGetting = false;\r\n\t\t\t\t\t\tthis.count = this.COUNT_DEFAULT;\r\n                    }\r\n                }\r\n                countDownFn();\r\n\r\n\t\t\t\tthis.code = '';\r\n\t\t\t\tthis.codekey = '';\r\n\t\t\t\tgetVerificationCodes({\r\n\t\t\t\t\tintl_code: this.countryCode,\r\n\t\t\t\t\tphone_number: this.telephone\r\n\t\t\t\t}).then((res)=>{\r\n\t\t\t\t\tthis.codekey = res.data.key;\r\n\t\t\t\t\t//this.isGetting = false;\r\n\t\t\t\t\t//this.count = this.COUNT_DEFAULT;\r\n\t\t\t\t}).catch((e)=>{\r\n\t\t\t\t\tthis.isGetting = false;\r\n\t\t\t\t\tthis.count = this.COUNT_DEFAULT;\r\n\t\t\t\t})\r\n\r\n            },\r\n\t\t\tonInput(key) {\r\n\t\t\t\tthis.code = (this.code + key).slice(0, this.CODE_LENGTH);\r\n\t\t\t\tif (this.code.length === this.CODE_LENGTH) {\r\n\t\t\t\t\tthis.onSubmit();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonDelete() {\r\n\t\t\t\tthis.code = this.code.slice(0, this.code.length - 1);\r\n\t\t\t},\r\n            onSubmit(){\r\n\t\t\t\tif(!this.code){\r\n\t\t\t\t\tthis.$toast(this.$t('str.codeTips3'));\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst toast = this.$toast.loading({\r\n\t\t\t\t\tduration: 10000,\r\n\t\t\t\t\tmessage: this.$t('str.loading')+'...',\r\n\t\t\t\t\tforbidClick: true,\r\n\t\t\t\t});\r\n\t\t\t\tthis.isSubmitting = true;\r\n\t\t\t\tthis.$store.dispatch('user/login', {\r\n\t\t\t\t\tverification_key: this.codekey,\r\n\t\t\t\t\tverification_code: this.code,\r\n\r\n\t\t\t\t\tdevice_number: this.$store.getters.deviceNumber,\r\n\t\t\t\t\tplatform: this.$store.getters.platform,\r\n\t\t\t\t\tapp_version_id: this.$store.getters.appVersionId,\r\n\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tconst { data } = res;\r\n\t\t\t\t\t\ttoast.clear();\r\n\t\t\t\t\t\tthis.isSubmitting = false;\r\n\t\t\t\t\t\tif(data){\r\n\t\t\t\t\t\t\tthis.toNextPage();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\ttoast.clear();\r\n\t\t\t\t\t\t},3000)\r\n\t\t\t\t\t\tthis.isSubmitting = false\r\n\t\t\t\t\t})\r\n\r\n            },\r\n\t\t\ttoNextPage(){\r\n\t\t\t\tthis.$store.dispatch('user/getInfo').then(data=>{\r\n\t\t\t\t\tconst { name,is_member } = data;\r\n\t\t\t\t\t/*if(is_member){\r\n\t\t\t\t\t\t\tthis.toEndPage()\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.toVipPage()\r\n\t\t\t\t\t\t}*/\r\n\t\t\t\t\tthis.toHomePage();\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t},\r\n\t\t\ttoEndPage(){\r\n                this.$router.push({name:'end'});\r\n            },\r\n            toInfoPage(){\r\n                this.$router.push({name:'info'});\r\n            },\r\n\t\t\ttoVipPage(){\r\n\t\t\t\tthis.$router.replace({\r\n\t\t\t\t\tname:'vip',\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttoHomePage(){\r\n\t\t\t\tthis.$router.replace({\r\n\t\t\t\t\tname:'home',\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonClickLeft() {\r\n\t\t\t\tthis.$router.go(-1);\r\n\t\t\t},\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n.sms-count-down{\r\n\tmargin-top: 30px;\r\n\tfont-size: 12PX;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./code.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./code.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./code.vue?vue&type=template&id=bb7ac8f2&\"\nimport script from \"./code.vue?vue&type=script&lang=js&\"\nexport * from \"./code.vue?vue&type=script&lang=js&\"\nimport style0 from \"./code.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}